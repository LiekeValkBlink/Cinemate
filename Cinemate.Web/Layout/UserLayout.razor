@using System.Globalization
@inherits LayoutComponentBase
@inject ISelectedMovieService SelectedMovieService
@inject NavigationManager NavigationManager


<div class="user-layout">
    
    <header>
        <NavMenu></NavMenu>
        <Kiosk_MovieThumbContainer></Kiosk_MovieThumbContainer>
    </header>
    <main>
        <aside>
            <Kiosk_MovieInfo></Kiosk_MovieInfo>
        </aside>
        <article>
            @Body
        </article>
    </main>
    <footer>
        <p>â“’ Cinemate 2024</p>
        <button @onclick="ChangeLanguage">Verander de taal</button>
    </footer>
    <BlazorSpinner.Spinner></BlazorSpinner.Spinner>
</div>

@code {
    private void ChangeLanguage()
    {
        var currentCulture = System.Globalization.CultureInfo.CurrentCulture.Name;
        var newCulture = currentCulture == "en-US" ? "nl-NL" : "en-US";
        
        CultureInfo.CurrentCulture = new CultureInfo(newCulture);
        CultureInfo.CurrentUICulture = new CultureInfo(newCulture);

        NavigationManager.NavigateTo(NavigationManager.Uri, forceLoad: true);
    }

}